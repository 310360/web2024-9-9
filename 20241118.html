<html>
    <head>
        <title>課程1118</title>
        </title>
        <meta charset="UTF-8">
        <style>
           #timebar{
            width: 800;
            height: 20;
            background-color: aqua;
           }
           #board{
            width: 800px;
            height: 800px;
            border: 1px solid crimson;
            position: relative;
           }
           .target{
            position: absolute;
            border-radius: 100%;
           }
        </style>
        <script>
            
            
            function get(id){
                return document.getElementById(id);
            }
            function getRanNum(min,max){
              return Math.floor(Math.random()*(max-min+1))+min;
            }
            function timeCountdown(){
                  tbWidth=tbWidth-1;
                  get("timebar").style.width=tbWidth+"px";
                  if(tbWidth<=0){
                    gameStop();
                  }else if(tbWidth<100)
                  {get("timebar").style.backgroundColor="red";}
                  else if(tbWidth<300){
                  get("timebar").style.backgroundColor="orange";
                  }
                }
                function hitTarget(){
                x=event.target;
                gameScore+=x.score;
                get("score").innerHTML=gameScore;
                x.remove();
                if(gameScore>=300){
                    clearInterval(targetTimer);
                    targetTimer=setInterval(newTargrt,500);
                }else if(gameScore=100){
                    clearInterval(targetTimer);
                    targetTimer=setInterval(newTargrt,800);
                }}
                
                function newTargrt(){
                    var x=document.createElement("div");
                    x.className="target";
                    x.pos={x:0,y:0,w:50,h:50};
                    x.pos.w=getRanNum(30,70);
                    x.pos.h=x.pos.w;
                    x.pos.x=getRanNum(0,800-x.pos.w);
                    x.pos.y=getRanNum(0,800-x.pos.h);
                    x.style.width=x.pos.w+"px";
                    x.style.height=x.pos.h+"px";
                    x.style.left=x.pos.x+"px";
                    x.style.top=x.pos.x+"px";
                    x.style.backgroundColor=`hsl(${getRanNum(0,360)},80%,50%)`;
                    get("board").appendChild(x);

                }
                function gameStart(){
                    tbWidth=800;
                    gameTimer=setInterval(timeCountdown,100);
                    targetTimer=setInterval(newTargrt,1000);
                }
                function gameStart(){
                gameeing=true;
                gameScore=0
                tbWidth=800;
                 gameTimer=setInterval(timeCountdown,100);
                 targetTimer=setInterval(newTargrt,1000);
                }
                function gameStop(){
                    gameing=false;
                    clearInterval(gameTimer);
                    clearInterval(targetTimer);
                }


        </script>
    </head>

    <body>
        <div>得分<span id="score"></span></div>
         <div id="timebar"></div>
         <div id="board"></div>
        <button onclick="gameStart()">遊戲開始</button>
    </body>
</html>